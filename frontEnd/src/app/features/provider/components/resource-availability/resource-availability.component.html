<h3>Resource Availability</h3>
<form (ngSubmit)="submit()">
  <input [(ngModel)]="form.date" name="date" type="date" required placeholder="Date">
  <input [(ngModel)]="form.startTime" name="startTime" type="time" required placeholder="Start Time">
  <input [(ngModel)]="form.endTime" name="endTime" type="time" required placeholder="End Time">
  <select [(ngModel)]="form.status" name="status" required>
    <option value="" disabled>Status</option>
    <option value="available">Available</option>
    <option value="booked">Booked</option>
    <option value="unavailable">Unavailable</option>
  </select>
  <button type="submit">{{ selectedAvailability ? 'Update' : 'Add' }}</button>
  <button type="button" (click)="clearForm()" *ngIf="selectedAvailability">Cancel</button>
</form>
@if (error) {
  <div style="color: red;">{{ error }}</div>
}
@if (success) {
  <div style="color: green;">{{ success }}</div>
}

<ul>
  @for (avail of availabilities; track avail.id) {
    <li (click)="selectAvailability(avail)">
      {{ avail.date }} {{ avail.startTime }}-{{ avail.endTime }} ({{ avail.status }})
      <button (click)="deleteAvailability(avail.id!); $event.stopPropagation()">Delete</button>
    </li>
  }
</ul>